(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var l=o.apply(null,n);l&&e.push(l)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,l){if(l!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1216:(e,t,n)=>{"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9196),a=u(o),l=u(n(5697)),s=n(4081),i=u(n(8315)),c=u(n(8282)),p=u(n(821));function u(e){return e&&e.__esModule?e:{default:e}}var d="data-lazyload-listened",m=[],f=[],h=!1;try{var v=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,v)}catch(e){}var g=!!h&&{capture:!1,passive:!0},b=function(e){var t=e.ref;if(t instanceof HTMLElement){var n=(0,i.default)(t),r=e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=e.ref,r=void 0,o=void 0,a=void 0,l=void 0;try{var s=t.getBoundingClientRect();r=s.top,o=s.left,a=s.height,l=s.width}catch(e){r=0,o=0,a=0,l=0}var i=window.innerHeight||document.documentElement.clientHeight,c=window.innerWidth||document.documentElement.clientWidth,p=Math.max(r,0),u=Math.max(o,0),d=Math.min(i,r+a)-p,m=Math.min(c,o+l)-u,f=void 0,h=void 0,v=void 0,g=void 0;try{var b=n.getBoundingClientRect();f=b.top,h=b.left,v=b.height,g=b.width}catch(e){f=0,h=0,v=0,g=0}var y=f-p,w=h-u,E=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return y-E[0]<=d&&y+v+E[1]>=0&&w-E[0]<=m&&w+g+E[1]>=0}(e,n):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var o=t.getBoundingClientRect();n=o.top,r=o.height}catch(e){n=0,r=0}var a=window.innerHeight||document.documentElement.clientHeight,l=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-l[0]<=a&&n+r+l[1]>=0}(e);r?e.visible||(e.props.once&&f.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},y=function(){for(var e=0;e<m.length;++e){var t=m[e];b(t)}f.forEach((function(e){var t=m.indexOf(e);-1!==t&&m.splice(t,1)})),f=[]},w=void 0,E=null,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n.setRef=n.setRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"==typeof t&&(e=e.document.querySelector(t));var n=void 0!==this.props.debounce&&"throttle"===w||"debounce"===w&&void 0===this.props.debounce;if(n&&((0,s.off)(e,"scroll",E,g),(0,s.off)(window,"resize",E,g),E=null),E||(void 0!==this.props.debounce?(E=(0,c.default)(y,"number"==typeof this.props.debounce?this.props.debounce:300),w="debounce"):void 0!==this.props.throttle?(E=(0,p.default)(y,"number"==typeof this.props.throttle?this.props.throttle:300),w="throttle"):E=y),this.props.overflow){var r=(0,i.default)(this.ref);if(r&&"function"==typeof r.getAttribute){var o=+r.getAttribute(d)+1;1===o&&r.addEventListener("scroll",E,g),r.setAttribute(d,o)}}else if(0===m.length||n){var a=this.props,l=a.scroll,u=a.resize;l&&(0,s.on)(e,"scroll",E,g),u&&(0,s.on)(window,"resize",E,g)}m.push(this),b(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,i.default)(this.ref);if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(d)-1;0===t?(e.removeEventListener("scroll",E,g),e.removeAttribute(d)):e.setAttribute(d,t)}}var n=m.indexOf(this);-1!==n&&m.splice(n,1),0===m.length&&"undefined"!=typeof window&&((0,s.off)(window,"resize",E,g),(0,s.off)(window,"scroll",E,g))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.children,r=e.placeholder,o=e.className,l=e.classNamePrefix,s=e.style;return a.default.createElement("div",{className:l+"-wrapper "+o,ref:this.setRef,style:s},this.visible?n:r||a.default.createElement("div",{style:{height:t},className:l+"-placeholder"}))}}]),t}(o.Component);_.propTypes={className:l.default.string,classNamePrefix:l.default.string,once:l.default.bool,height:l.default.oneOfType([l.default.number,l.default.string]),offset:l.default.oneOfType([l.default.number,l.default.arrayOf(l.default.number)]),overflow:l.default.bool,resize:l.default.bool,scroll:l.default.bool,children:l.default.node,throttle:l.default.oneOfType([l.default.number,l.default.bool]),debounce:l.default.oneOfType([l.default.number,l.default.bool]),placeholder:l.default.node,scrollContainer:l.default.oneOfType([l.default.string,l.default.object]),unmountIfInvisible:l.default.bool,style:l.default.object},_.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1}},8282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,o=void 0,a=void 0,l=void 0,s=void 0,i=function i(){var c=+new Date-l;c<t&&c>=0?r=setTimeout(i,t-c):(r=null,n||(s=e.apply(a,o),r||(a=null,o=null)))};return function(){a=this,o=arguments,l=+new Date;var c=n&&!r;return r||(r=setTimeout(i,t)),c&&(s=e.apply(a,o),a=null,o=null),s}}},4081:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,(function(t){n.call(e,t||window.event)}))},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},8315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(r),a=o.position,l=o.overflow,s=o["overflow-x"],i=o["overflow-y"];if("static"===a&&t)r=r.parentNode;else{if(n.test(l)&&n.test(s)&&n.test(i))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,o;return t||(t=250),function(){var a=n||this,l=+new Date,s=arguments;r&&l<r+t?(clearTimeout(o),o=setTimeout((function(){r=l,e.apply(a,s)}),t)):(r=l,e.apply(a,s))}}},9196:e=>{"use strict";e.exports=window.React}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{getTemplateData:()=>f,getTemplates:()=>m});var t={};n.r(t),n.d(t,{apiFetch:()=>h,setTemplateData:()=>g,setTemplates:()=>v});var r={};n.r(r),n.d(r,{API_FETCH:()=>b});var o={};n.r(o),n.d(o,{getTemplateData:()=>w,getTemplates:()=>y});const a=window.wp.blocks,l=window.wp.element,s=window.wp.i18n,i=window.wp.editPost,c=window.wp.plugins,p=window.wp.components,u=window.wp.apiFetch;var d=n.n(u);function m(e){return e.templates}function f(e,t){return e.templatesData[t]}function h(e){return{type:"API_FETCH",request:e}}function v(e){return{type:"SET_TEMPLATES",templates:e}}function g(e){return{type:"SET_TEMPLATE_DATA",data:e}}function b({request:e}){return d()(e).then((e=>!!(e&&e.success&&e.response)&&e.response))}function*y(){return v(yield h({path:"/wp-travel-blocks/v1/get_templates/"}))}function*w(e){const t=`/wp-travel-blocks/v1/get_template_data/?id=${e}`,n=yield h({path:t});return n.id||(n.id=e),g(n)}const{registerStore:E}=wp.data;E("wp-travel-blocks/templates",{reducer:function(e={templates:!1,templatesData:{}},t){switch(t.type){case"SET_TEMPLATES":!e.templates&&t.templates&&(e.templates=t.templates);break;case"SET_TEMPLATE_DATA":t.templatesData&&t.templatesData.id&&!e.templatesData[t.templatesData.id]&&(e.templatesData[t.templatesData.id]=t.templatesData)}return e},selectors:e,actions:t,controls:r,resolvers:o});const _=window.wp.compose,T=window.wp.data;n(4184);var k=n(9196),C=n.n(k);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var P=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,O(t,n);var o=r.prototype;return o.getColumns=function(){var e=this.props,t=e.children,n=e.columnsCount,r=Array.from({length:n},(function(){return[]}));return C().Children.forEach(t,(function(e,t){e&&C().isValidElement(e)&&r[t%n].push(e)})),r},o.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map((function(t,n){return C().createElement("div",{key:n,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map((function(e){return e})))}))},o.render=function(){var e=this.props,t=e.gutter,n=e.className,r=e.style;return C().createElement("div",{style:S({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},r),className:n},this.renderColumns())},r}(C().Component);P.propTypes={},P.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};const N=P;var x="undefined"!=typeof window?k.useLayoutEffect:k.useEffect;(function(e){var t,n,r,o,a,l=e.columnsCountBreakPoints,s=void 0===l?{350:1,750:2,900:3}:l,i=e.children,c=e.className,p=void 0===c?null:c,u=e.style,d=void 0===u?null:u,m=(t=function(){var e=(0,k.useState)(!1),t=e[0],n=e[1];return x((function(){n(!0)}),[]),t}(),n=(0,k.useState)(0),r=n[0],o=n[1],a=(0,k.useCallback)((function(){t&&o(window.innerWidth)}),[t]),x((function(){if(t)return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[t,a]),r),f=(0,k.useMemo)((function(){var e=Object.keys(s).sort((function(e,t){return e-t})),t=e.length>0?s[e[0]]:1;return e.forEach((function(e){e<m&&(t=s[e])})),t}),[m,s]);return C().createElement("div",{className:p,style:d},C().Children.map(i,(function(e,t){return C().cloneElement(e,{key:t,columnsCount:f})})))}).propTypes={};const j=N;n(1216);class M extends l.Component{constructor(e){super(e),this.state={loading:!1,activeCategory:{},error:!1},this.getSelectedCategory=this.getSelectedCategory.bind(this),this.printCategorySelect=this.printCategorySelect.bind(this),this.getTemplates=this.getTemplates.bind(this)}getSelectedCategory(e){return this.state.activeCategory[e]||!1}getTemplates(e,t=null){const{templates:n=!1}=this.props;if(!n)return n;const r=[];return t=null===t?this.getSelectedCategory(e):"",n.forEach((n=>{let o=!e;if(!o&&n.types&&n.types.forEach((t=>{t.slug&&e===t.slug&&(o=!0)})),o&&t&&n.categories){let e=!1;n.categories.forEach((n=>{n.slug&&t===n.slug&&(e=!0)})),o=e}o&&r.push(n)})),r}printCategorySelect(e){const t=this.getTemplates(e,""),n={},r=[];return t.forEach((e=>{e.categories&&e.categories.length&&e.categories.forEach((e=>{n[e.slug]||(n[e.slug]=!0,r.push({value:e.slug,label:e.name}))}))})),r.length?(r.unshift({value:"",label:(0,s.__)("-- Select Category --","wp-travel-blocks")}),(0,l.createElement)(p.SelectControl,{value:this.getSelectedCategory(e),options:r,onChange:t=>{this.setState((n=>({activeCategory:{...n.activeCategory,[e]:t}})))}})):null}render(){const{checkPro:e,insertTemplate:t,getTemplateData:n,onRequestClose:r}=this.props,o=this.getTemplates(),a=this.getTemplates("theme"),i=this.state.loading||!o||!o.length;return(0,l.createElement)(p.Modal,{className:"wp-travel-gutenberg-blocks-library",position:"top",size:"lg",onRequestClose:()=>{r()},shouldCloseOnClickOutside:!1,__experimentalHideHeader:!0},(0,l.createElement)("div",{className:"components-modal__header"},(0,l.createElement)("div",{className:"components-modal__header-heading-container"},(0,l.createElement)("h1",{id:"components-modal-header-1",className:"components-modal__header-heading"},(0,s.__)("Templates","wp-travel-blocks")),i?(0,l.createElement)("div",{className:"wp-travel-gutenberg-blocks-modal-loading-spinner"},(0,l.createElement)(p.Spinner,null)):""),(0,l.createElement)("button",{type:"button","aria-label":"Close dialog",className:"components-button components-icon-button",onClick:()=>{r()}},(0,l.createElement)("svg",{"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon dashicons-no-alt",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},(0,l.createElement)("path",{d:"M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"})))),o&&o.length?(0,l.createElement)(p.TabPanel,{className:"wp-travel-gutenberg-blocks-control-tabs wp-travel-gutenberg-blocks-component-modal-tab-panel",tabs:[...a&&a.length?[{name:"theme",title:(0,l.createElement)(p.Tooltip,{text:(0,s.__)("Templates from the theme.","wp-travel-blocks")},(0,l.createElement)("span",null,(0,s.__)("Theme","wp-travel-blocks"))),className:"wp-travel-gutenberg-blocks-control-tabs-tab"}]:[],{name:"blocks",title:(0,l.createElement)(p.Tooltip,{text:(0,s.__)("Simple blocks to construct your page.","wp-travel-blocks")},(0,l.createElement)("span",null,(0,s.__)("Blocks","wp-travel-blocks"))),className:"wp-travel-gutenberg-blocks-control-tabs-tab"},{name:"pages",title:(0,l.createElement)(p.Tooltip,{text:(0,s.__)("Pre-designed ready to use pages.","wp-travel-blocks")},(0,l.createElement)("span",null,(0,s.__)("Pages","wp-travel-blocks"))),className:"wp-travel-gutenberg-blocks-control-tabs-tab"}]},(o=>{const a=o.name;let i=!1,c=!1;return i=this.getTemplates(a),c=this.getSelectedCategory(a),(0,l.createElement)(l.Fragment,null,!1===i?(0,l.createElement)("div",{className:"wp-travel-gutenberg-blocks-spinner"},(0,l.createElement)(p.Spinner,null)):"",i&&!i.length?(0,l.createElement)("div",null,"local"===a?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("p",{style:{marginTop:0}},(0,s.__)("No templates found.","wp-travel-blocks"))):(0,s.__)("No templates found.","wp-travel-blocks")):"",i&&i.length?(0,l.createElement)(l.Fragment,{key:`${a}-${c}`},(0,l.createElement)("div",{className:"wp-travel-gutenberg-blocks-categories-row"},(0,l.createElement)("div",{className:"wp-travel-gutenberg-blocks-categories-select"},this.printCategorySelect(a)),(0,l.createElement)("div",{className:"wp-travel-gutenberg-blocks-count"},(0,l.createElement)(l.RawHTML,null,(0,s.sprintf)((0,s.__)("Templates: %s","wp-travel-blocks"),`<strong>${i.length}</strong>`)))),this.state.error,(0,l.createElement)(j,{columnsCount:3,gutter:"10px",className:"wp-travel-template-lists"},i.map(((o,s)=>{o.thumbnail;let i=!1;return o.thumbnail_height&&o.thumbnail_width&&o.thumbnail_height/o.thumbnail_width,(0,l.createElement)("div",{key:s,style:{width:"100%",display:"block"}},(0,l.createElement)("img",{width:"100%",src:o.thumbnail,alt:o.title}),(0,l.createElement)("div",{className:"wp-travel-gutenberg-blocks-list-item-title"},(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"template-name"},o.title),(0,l.createElement)("div",{className:"import-icon"},"local"==a&&(0,l.createElement)("button",{onClick:()=>{this.setState({loading:!0}),n({id:o.id,type:a},(e=>{e&&e.success&&e.response&&e.response.content&&t(e.response.content,this.props.replaceBlockId,(e=>{e?this.setState({error:e}):r()})),this.setState({loading:!1})}))}},(0,l.createElement)("i",{className:"fas fa-download"}))||(0,l.createElement)(l.Fragment,null,1!==Object.keys(o.is_pro_template).length&&(0,l.createElement)("button",{onClick:()=>{this.setState({loading:!0}),n({id:o.id,type:a},(e=>{e&&e.success&&e.response&&e.response.content&&t(e.response.content,this.props.replaceBlockId,(e=>{e?this.setState({error:e}):r()})),this.setState({loading:!1})}))}},(0,l.createElement)("i",{className:"fas fa-download"}))||(0,l.createElement)(l.Fragment,null,void 0!==e.is_block_pro_enable&&"yes"==e.is_block_pro_enable&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("button",{onClick:()=>{this.setState({loading:!0}),n({id:o.id,type:a},(e=>{e&&e.success&&e.response&&e.response.content&&t(e.response.content,this.props.replaceBlockId,(e=>{e?this.setState({error:e}):r()})),this.setState({loading:!1})}))}},(0,l.createElement)("i",{className:"fas fa-download"})))||(0,l.createElement)("span",{className:"pro-tag"},"pro")))))))})))):"")})):"")}}const D=(0,_.compose)([(0,T.withDispatch)((e=>{const{insertBlocks:t,replaceBlocks:n}=e("core/block-editor");return{insertTemplate(e,r,o){const l=(0,a.parse)(e);if(l.length){const e=!1;e?o(e):(r?n(r,l):t(l),o(!1))}}}})),(0,T.withSelect)((e=>{const[t,n]=(0,l.useState)([]);return(0,l.useEffect)((()=>{fetch(_wp_travel.site_url+"/wp-json/wp-travel-blocks/v1/check-for-block-pro",{method:"GET"}).then((e=>e.json())).then((e=>{n(e)})).catch((e=>console.error(e)))}),[]),{templates:e("wp-travel-blocks/templates").getTemplates(),checkPro:t,getTemplateData(e,t){let{type:n}=e;"local"!==n&&"theme"!==n&&(n="remote"),d()({path:`/wp-travel-blocks/v1/get_template_data/?id=${e.id}&type=${n}`,method:"GET"}).then((e=>{t(e)})).catch((e=>{t(e)}))}}}))])(M);(0,c.registerPlugin)("wp-travel-templates",{render:()=>{const[{isTemplatesOpen:e,resetting:t},n]=(0,l.useState)({isTemplatesOpen:!1,resetting:!1});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.PluginSidebarMoreMenuItem,{target:"wp-travel-templates-library"},(0,s.__)("WP Travel Templates","wp-travel-blocks")),(0,l.createElement)(i.PluginSidebar,{name:"wp-travel-templates-library",title:(0,s.__)("WP Travel Templates","wp-travel-blocks")},(0,l.createElement)(p.PanelBody,null,(0,l.createElement)(p.Button,{onClick:()=>n({isTemplatesOpen:!0}),icon:"admin-appearance",isSecondary:!0},(0,s.__)("Browse Templates","wp-travel-blocks")),e&&(0,l.createElement)(D,{onRequestClose:()=>n({isTemplatesOpen:!1})}))))}});class A extends l.Component{constructor(e){super(e),this.getLayoutsSelector=this.getLayoutsSelector.bind(this),this.state={isModelOpen:!1}}getLayoutsSelector(){const{clientId:e,attributes:t,removeBlock:n}=this.props;return(0,l.createElement)(l.Fragment,null,t.isTemplatesModalOnly||this.state.isTemplatesModalOpen?(0,l.createElement)(D,{onRequestClose:()=>{this.setState({isTemplatesModalOpen:!1}),t.isTemplatesModalOnly&&n(e)},replaceBlockId:e}):"")}render(){const{className:e}=this.props,t=()=>{this.setState({isTemplatesModalOpen:!0})};return(0,l.createElement)("div",{className:"wptravel-import-template"},this.getLayoutsSelector(),(0,l.createElement)("button",{onClick:()=>t()},(0,l.createElement)(p.Icon,{icon:"admin-appearance"})," ",(0,s.__)("Browse Templates")))}}const L=(0,_.compose)([(0,T.withDispatch)((e=>{const{updateBlockAttributes:t,removeBlock:n,replaceInnerBlocks:r}=e("core/block-editor");return{updateBlockAttributes:t,removeBlock:n,replaceInnerBlocks:r}}))])(A),B=JSON.parse('{"u2":"wp-travel-blocks/templates"}');(0,a.registerBlockType)(B.u2,{edit:L,save:function(){return null}})})()})();